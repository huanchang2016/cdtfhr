<div class="admin_right_body_content_wrapper bg-white border-radius-sm">

    <ng-container *ngIf="list.length !== 0 && !loadingData">
        <div class="list_body_wrapper">
            <nz-table #basicTable [nzData]="list" nzFrontPagination="false" nzShowPagination="false">
                <thead>
                    <tr>
                        <th nzWidth="280px">简历名称</th>
                        <th>创建时间</th>
                        <th>最近更新</th>
                        <th>简历公开</th>
                        <th>默认简历</th>
                        <th nzWidth="140px" class="text-center">操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of basicTable.data; let i = index">
                        <!-- <td></td> -->
                        <td>
                            {{ data.title }}
                            <span *ngIf="data.is_default"
                                class="px-sm py-xs bg-danger text-white text-xs border-radius-sm">默认</span>
                        </td>
                        <td class="text-666">
                            <div>{{ data.created_at | date: 'yyyy/MM/dd'}}</div>
                            <div>{{ data.created_at | date: 'HH:mm:ss'}}</div>
                        </td>
                        <td class="text-666">
                            <div>{{ data.updated_at | date: 'yyyy/MM/dd'}}</div>
                            <div>{{ data.updated_at | date: 'HH:mm:ss'}}</div>
                        </td>
                        <td>
                            <nz-switch [(ngModel)]="data.privacy" [nzLoading]="openItemOption[data.id]" [nzControl]="true" (click)="openValueChange(data)"
                                nzCheckedChildren="是" nzUnCheckedChildren="否"></nz-switch>
                        </td>
                        <td>
                            <nz-switch [(ngModel)]="data.is_default" [nzLoading]="defaultItemOption[data.id]" [nzControl]="true" (click)="setDefault(data)"
                                nzCheckedChildren="是" nzUnCheckedChildren="否" [nzDisabled]="data.is_default"></nz-switch>
                        </td>
                        <td>
                            <div class="oper_box_wrapper">
                                <div class="oper-list text-lg text-nowrap text-center">
                                    <span class="text-primary mr-sm point" (click)="editResumeName(data)" nz-tooltip nzTooltipTitle="修改简历名称">
                                        <i nz-icon nzType="exception" nzTheme="outline"></i>
                                    </span>

                                    <a [routerLink]="['/fullscreen/resume/view', data.id]" target="_blank"><i nz-icon
                                            nzType="eye" nzTheme="outline" nz-tooltip nzTooltipTitle="简历预览"></i></a>

                                    <a class="mx-sm" [routerLink]="['/admin/user/resumes/edit', data.id]"><i nz-icon
                                            nzType="edit" nzTheme="outline" nz-tooltip nzTooltipTitle="修改简历"></i></a>
                                    <a  *ngIf="!data.is_default" nz-popconfirm nzPopconfirmTitle="您是否确认删除当前简历" nzPopconfirmPlacement="bottom"
                                        (nzOnConfirm)="deleted(data)" (nzOnCancel)="cancel()" class="text-danger">
                                        <i nz-icon nzType="delete" nzTheme="outline" nz-tooltip nzTooltipTitle="删除简历"></i>
                                    </a>

                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </nz-table>

            <div class="add_resumes_btn_box">
                <a [routerLink]="['/admin/user/resumes/add']" nz-button nzBlock nzType="link" nzSize="large"><i nz-icon nzType="plus-circle" nzTheme="outline"></i> 新增简历</a>
            </div>
        </div>
    </ng-container>

    <ng-container *ngIf="list.length === 0 && !loadingData">
        <div class="d-flex justify-content-center align-items-center">
            <div class="list_empty_content">
                <div class="text-center text-lg text-grey">您还没有简历，请创建一个简历！</div>
                <div class="empty_image_box"><img src="./assets/imgs/icon/icon_info_gray.png" alt=""></div>
                <div class="text-center empty_btn">
                    <a [routerLink]="['/admin/user/resumes/add']" nz-button nzType="primary" [nzSize]="'large'">创建简历</a>
                </div>
            </div>
        </div>
    </ng-container>

    <ng-container *ngIf="list.length === 0 && loadingData">
        <div class="d-flex justify-content-center align-items-center">
            <nz-spin nzSimple [nzSize]="'large'"></nz-spin>
        </div>
    </ng-container>
</div>